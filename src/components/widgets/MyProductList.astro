---
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import Headline from '~/components/ui/Headline.astro';
import Image from '~/components/common/Image.astro';
import Button from '~/components/ui/Button.astro';

// ข้อมูลสินค้า (คงเดิม 100%)
const products = [
  {
    title: 'KU72-PADDY',
    alt1 : 'เครื่องวัดความชื้นข้าวเปลือก KU72-PADDY',
    subtitle: 'สำหรับข้าวเปลือก',
    description: 'ผ่านการรับรองจากสำนักงานกลางชั่งตวงวัด สามารถใช้ในการกำหนดราคาซื้อ-ขายข้าวเปลือกได้ถูกต้องตามกฏหมาย',
    image: '~/assets/images/KU72-PADDY01.png',
    link: '/Products/paddy-moisture-meter-ku72',
    features: ['วัดข้าวเปลือกเท่านั้น', 'คุณสมบัติตามประกาศกระทรวงฯ **', 'มีตราแสดงการตรวจรับรอง*', 'ควบคุมด้วยไมโครโปรเซสเซอร์****'],
  },
  {
    title: 'KU72-CORN',
    alt1 : 'เครื่องวัดความชื้นข้าวโพด KU72-CORN',
    subtitle: 'สำหรับข้าวโพด',
    description: 'ผ่านการรับรองจากสำนักงานกลางชั่งตวงวัด สามารถใช้ในการกำหนดราคาซื้อ-ขายข้าวโพดเลี้ยงสัตว์ได้ถูกต้องตามกฏหมาย',
    image: '~/assets/images/KU72-CORN01.png',
    link: '/Products/corn-moisture-meter-ku72',
    features: ['วัดข้าวโพดเลี้ยงสัตว์เท่านั้น', 'คุณสมบัติตามประกาศกระทรวงฯ ***', 'มีตราแสดงการตรวจรับรอง *', 'ควบคุมด้วยไมโครโปรเซสเซอร์****'],
  },
  {
    title: 'KU60',
    alt1 : 'เครื่องวัดความชื้นเมล็ด KU60',
    subtitle: 'สำหรับเมล็ดพืชหรือเมล็ดทั่วไป',
    description: 'วัดความชื้นเมล็ดได้หลากหลาย ตามชนิดเมล็ดที่ได้ทำการสอบเทียบไว้ล่วงหน้า ผลิตตามความต้องการของลูกค้าได้ ไม่มีจำนวนขั้นต่ำ มีข้อมูลการสอบเทียบเมล็ดมาตรฐานแล้ว ให้เลือกกว่า100ชนิด',
    image: '~/assets/images/KU60-01.png',
    link: '/Products/grain-moisture-meter-ku60',
    features: ['วัดความชื้นเมล็ดได้หลากหลายชนิด', 'กำหนดชนิดได้สูงสุด 7 ชนิด', 'ควบคุมด้วยไมโครโปรเซสเซอร์****'],
  },
  {
    title: 'EE-KU',
    alt1 : 'เครื่องวัดความชื้นเมล็ด EE-KU',
    subtitle: 'สำหรับวัดความชื้นเมล็ดทั่วไป รุ่นประหยัด',
    description: 'ทนทาน ใช้งานง่ายที่สุด ราคาประหยัด มีให้เลือก3รุ่นย่อย คือ วัดข้าวโพดเลี้ยงสัตว์ กาแฟสาร และเมล็ดทั่วไป(ใช้ตารางเทียบความชื้น)',
    image: '~/assets/images/EEKU-01.png', 
    link: '/Products/grain-moisture-meter-eeku',
    features: ['วัดข้าวโพด/กาแฟสาร และเมล็ดทั่วไป', 'ระบบอนาล็อก', 'ใช้งานง่าย', 'ราคาประหยัด'],
  },
];
---
<WidgetWrapper id="products" isDark={false} containerClass="max-w-7xl mx-auto px-4 sm:px-6" bg='<div class="absolute inset-0 bg-white dark:bg-transparent"></div>'>
  
  <Headline
    title="ผลิตภัณฑ์คุณภาพจาก Grainsure"
    tagline="Products"
    subtitle="Grainsure มีเครื่องวัดความชื้นเมล็ดหลากหลายรุ่น ครอบคลุมทุกการใช้งาน เพื่อให้เหมาะสมกับความต้องการของลูกค้าแต่ละราย"
    classes={{ container: 'max-w-xl sm:mx-auto lg:max-w-2xl mb-8 md:mb-12', title: 'text-2xl md:text-4xl font-bold' }}
  />

  <div class="grid gap-8 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4">
    {products.map((product) => (
      <a 
        href={product.link} 
        class="group flex flex-col justify-between rounded-2xl bg-white dark:bg-slate-900 shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-800"
      >
        
        <div class="relative aspect-video sm:aspect-square md:aspect-video overflow-hidden">
             <Image
                src={product.image}
                alt={product.alt1}
                class="object-cover w-full h-full transition-transform duration-500 group-hover:scale-110"
                format="webp" 
                widths={[400, 800]} 
                sizes="(max-width: 767px) 100vw, 25vw"
                width={400} 
                height={300}
              />
              <div class="absolute top-3 right-3 bg-primary text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-sm">
                {product.title}
              </div>
        </div>

        <div class="p-6 flex-1 flex flex-col">
            <div class="mb-3">
                <h3 class="text-xl font-bold leading-tight text-gray-900 dark:text-white group-hover:text-primary transition-colors mb-1">
                  รุ่น {product.title}
                </h3>
                <p class="text-xs text-primary font-bold tracking-wide uppercase">{product.subtitle}</p>
            </div>
            
            <p class="text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-3">
                {product.description}
            </p>

            <ul class="text-xs text-gray-500 mb-6 space-y-2">
                {product.features.map(f => (
                    <li class="flex items-start">
                        <svg class="w-4 h-4 text-green-500 mr-2 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7" /></svg>
                        <span class="leading-tight">{f}</span>
                    </li>
                ))}
            </ul>

            <div class="mt-auto">
                <div class="w-full bg-primary text-white text-center py-3 rounded-xl font-bold text-sm shadow-sm group-hover:bg-primary-700 transition-colors">
                  ดูรายละเอียดสินค้า
                </div>
            </div>
        </div>
      </a>
    ))}
  </div>

  <div class="mt-16 mx-auto max-w-5xl">
    <div class="rounded-2xl bg-slate-50 dark:bg-slate-800/50 p-6 md:p-10 border border-slate-100 dark:border-slate-700">
      <div class="flex items-center gap-3 mb-6">
          <div class="p-2 bg-primary/10 rounded-lg text-primary">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"><path d="M3 12h1m8 -9v1m8 8h1m-15.4 -6.4l.7 .7m12.1 -.7l-.7 .7"></path><path d="M9 16a5 5 0 1 1 6 0a3.5 3.5 0 0 0 -1 3a2 2 0 0 1 -4 0a3.5 3.5 0 0 0 -1 -3"></path><path d="M9.7 17l4.6 0"></path></svg>
          </div>
          <h4 class="text-xl font-bold text-gray-900 dark:text-white">หมายเหตุ</h4>
      </div>
        
      <ul class="grid md:grid-cols-2 gap-6 text-sm text-gray-600 dark:text-slate-400">
        <li class="flex items-start gap-3">
          <span class="text-primary font-bold">**</span>
          <span><strong>ข้าวเปลือก:</strong> ตามประกาศกระทรวงพาณิชย์ พ.ศ. 2562</span>
        </li>
        <li class="flex items-start gap-3">
          <span class="text-primary font-bold">***</span>
          <span><strong>ข้าวโพด:</strong> ตามประกาศกระทรวงพาณิชย์ พ.ศ. 2562</span>
        </li>
        <li class="flex items-start gap-3">
          <span class="text-primary font-bold">*</span>
          <span><strong>การตรวจรับรอง:</strong> โดยสำนักงานกลางชั่งตวงวัด กรมการค้าภายใน</span>
        </li>
        <li class="flex items-start gap-3">
          <span class="text-primary font-bold">****</span>
          <span><strong>ไมโครโปรเซสเซอร์:</strong> ระบบดิจิตอล แม่นยำสูง ชดเชยอุณหภูมิอัตโนมัติ</span>
        </li>
      </ul>
      
      <div class="mt-8 pt-6 border-t border-slate-200 dark:border-slate-700 text-center md:text-left">
         <p class="text-sm text-slate-500 italic">
           สงสัยเพิ่มเติม? <a href="https://line.me/ti/p/~@grainsure" class="text-primary hover:underline font-bold" data-astro-reload>คุยกับทีมงานทาง Line คลิก</a>
         </p>
      </div>
    </div>
  </div>
</WidgetWrapper>